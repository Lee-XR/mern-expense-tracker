import{r,S as b,j as e,$ as h,a as p,b as m,c as u,d as x,e as y,f as j,g as $,h as g,i as w,k as N,l as S,m as v,B as n}from"./index-43b1fa17.js";const k="_container_f2d5b_1",C="_selector_f2d5b_19",D="_select-trigger_f2d5b_49",I="_select-content_f2d5b_119",B="_select-viewport_f2d5b_139",E="_select-item_f2d5b_147",V="_select-item-indicator_f2d5b_189",R="_select-scroll-button_f2d5b_197",T="_btn-up_f2d5b_211",U="_btn-down_f2d5b_219",F="_wrapper_f2d5b_229",M="_budget-col_f2d5b_251",W="_empty-data_f2d5b_313",s={container:k,selector:C,"select-trigger":"_select-trigger_f2d5b_49",selectTrigger:D,"select-content":"_select-content_f2d5b_119",selectContent:I,"select-viewport":"_select-viewport_f2d5b_139",selectViewport:B,"select-item":"_select-item_f2d5b_147",selectItem:E,"select-item-indicator":"_select-item-indicator_f2d5b_189",selectItemIndicator:V,"select-scroll-button":"_select-scroll-button_f2d5b_197",selectScrollButton:R,"btn-up":"_btn-up_f2d5b_211",btnUp:T,"btn-down":"_btn-down_f2d5b_219",btnDown:U,wrapper:F,"budget-col":"_budget-col_f2d5b_251",budgetCol:M,"empty-data":"_empty-data_f2d5b_313",emptyData:W},i={daily:[],weekly:[],monthly:[]},q=(d,c)=>{switch(c.type){case"budgetsExists":return{daily:[...c.daily],weekly:[...c.weekly],monthly:[...c.monthly]};case"noBudgets":return i;default:return i}},A=()=>{const{sheets:d}=r.useContext(b),[c,f]=r.useState(null),[a,o]=r.useReducer(q,i),_=t=>{f(...d.filter(l=>l._id===t))};return r.useEffect(()=>{c&&_(c._id)},[d]),r.useEffect(()=>{o(c?{type:"budgetsExists",daily:[...c.budgets.filter(t=>t.type==="daily").sort((t,l)=>t._id<l._id?-1:t._id>l._id?1:0)],weekly:[...c.budgets.filter(t=>t.type==="weekly").sort((t,l)=>t._id<l._id?-1:t._id>l._id?1:0)],monthly:[...c.budgets.filter(t=>t.type==="monthly").sort((t,l)=>t._id<l._id?-1:t._id>l._id?1:0)]}:{type:"noBudgets"})},[c]),e.jsxs("div",{className:s.container,children:[e.jsxs("div",{className:s.selector,children:[e.jsx("label",{htmlFor:"sheet-selection",children:"Select your sheets:"}),e.jsxs(h,{onValueChange:_,disabled:d.length===0,children:[e.jsxs(p,{className:s.selectTrigger,"aria-label":"Sheets",children:[e.jsx(m,{placeholder:"Select a sheet"}),e.jsx(u,{children:e.jsx("span",{className:"material-symbols-outlined",children:"arrow_drop_down"})})]}),e.jsx(x,{children:e.jsxs(y,{className:s.selectContent,children:[e.jsx(j,{className:`${s.selectScrollButton} ${s.btnUp}`,children:e.jsx("span",{className:"material-symbols-outlined",children:"keyboard_arrow_up"})}),e.jsx($,{className:s.selectViewport,children:d.map(t=>e.jsxs(g,{className:s.selectItem,value:t._id,children:[e.jsx(w,{children:t.title}),e.jsx(N,{className:s.selectItemIndicator,children:e.jsx("span",{className:"material-symbols-outlined",children:"check"})})]},t._id))}),e.jsx(S,{className:`${s.selectScrollButton} ${s.btnDown}`,children:e.jsx("span",{className:"material-symbols-outlined",children:"keyboard_arrow_down"})}),e.jsx(v,{})]})})]})]}),d.length>0?c!==null?e.jsxs("div",{className:s.wrapper,children:[e.jsxs("div",{className:s.budgetCol,children:[e.jsx("h3",{children:"Daily"}),a.daily.length>0?e.jsx("ul",{children:a.daily.map(t=>e.jsx(n,{budget:t},t._id))}):e.jsx("div",{className:s.emptyData,children:e.jsx("p",{children:"No budget added yet."})})]}),e.jsxs("div",{className:s.budgetCol,children:[e.jsx("h3",{children:"Weekly"}),a.weekly.length>0?e.jsx("ul",{children:a.weekly.map(t=>e.jsx(n,{budget:t},t._id))}):e.jsx("div",{className:s.emptyData,children:e.jsx("p",{children:"No budget added yet."})})]}),e.jsxs("div",{className:s.budgetCol,children:[e.jsx("h3",{children:"Monthly"}),a.monthly.length>0?e.jsx("ul",{children:a.monthly.map(t=>e.jsx(n,{budget:t},t._id))}):e.jsx("div",{className:s.emptyData,children:e.jsx("p",{children:"No budget added yet."})})]})]}):e.jsx("div",{className:s.emptyData,children:e.jsx("p",{children:"No sheets selected yet."})}):e.jsx("div",{className:s.emptyData,children:e.jsx("p",{children:"No sheets added yet."})})]})};export{A as default};
